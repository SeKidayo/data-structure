## 一、树的相关术语

- **根节点**： 位于树顶部的节点，没有父节点
- 节点： 树中的每个元素都叫做节点，节点分为 **内部节点** 和 **外部节点**
  - **内部节点**：至少有一个子节点的节点
  - **外部节点(叶节点)**：没有子元素的节点
- 祖先：一个节点(除根节点)的祖先包括父节点、祖父节点、曾祖父节点等等
- 后代：一个节点的后代包括子节点、孙子节点、曾孙节点等等
- **子树**：由某个节点和他的后代构成
- 节点的度：某节点的孩子节点的个数
- 树的度：树中所有节点的度的最大值
- 节点的深度：某个节点的深度取决于他的祖先节点的数量
- 节点的高度：某个节点到其任意子节点的边的最大值（eg:叶子节点高度为0）
- 树的高度：所有节点的高度取最大值；即根节点的高度
- **二叉树**：树中每个节点最多只有两个子节点的树
  - **完全**二叉树：
    - k为树的高度(根节点深度为0 or 1，各有定论；此处均采用0)
    - 则完全二叉树的0~k-1层必须达到最大节点数
    - 第k层可以不满，但是第k层的所有节点必须**集中**在最左边
  - **满**二叉树
    - 树中的节点要么是叶子节点，要么有两个子节点（国外定义）
    - k层的树，节点总数为2^(k + 1) - 1；即外形为三角形的树 （国内定义）
  - **二叉搜索树(BST)**：二叉树的一种，特点：**左侧节点存储的值比父节点小**、**右侧节点存储的值比父节点大**
    - **自平衡二叉搜索树**：树中任何一个节点左右两侧子树的**高度之差最多为1**
      - **AVL树**：自平衡二叉搜索树的一种
      - **红黑树**：自平衡二叉搜索树的一种




## 二、树的遍历

> 遍历一棵树是指访问树的每个节点并对它们进行某种操作的过程。

### 1. 中序遍历

**中序遍历**是一种以 上行顺序访问BST所有节点的遍历方式。也就是以**从最小到最大的顺序**访问所有节点。

通俗的讲: 即 **先左、再中、最后右**

中序遍历的一种应用就是对树进行**排序**操作



### 2.先序遍历

**先序遍历**是以优先于后代节点的顺序访问每个节点的。

通俗的讲: 即 **先中、再左、最后右**

先序遍历的一种应用是打印一个**结构化的文档**（写文章的一级标题、二级标题.....）



### 3.后序遍历

**后序遍历**是先访问节点的后代节点(先左后右),再访问节点本身

通俗的讲: 即 **先左、再右、最后中**

后序遍历的一种应用就是计算一个**目录及其子目录**中所有文件所占空间的大小



注意：先序、中序、后序的 先中后均指 **当前节点何时访问**,其左右节点的访问顺序是**固定从左到右**的



## 三、自平衡二叉搜索树

>BST树中任何一个节点左右两侧子树的**高度之差最多为1**

### AVL树

AVL树也是一种自平衡树。

添加或移除节点时，AVL树会尝试保持自平衡(即任何一个节点左右两侧子树的**高度之差最多为1**)

添加或移除节点时，AVL树会尽可能尝试转换为完全树



在AVL树中，需要对每个节点计算**左子树高度(hl)和右子树高度(hr)之间的差值**，该值(hl - hr)应为 0 、-1或1。如果结果不是这三个值之一，则需要平衡该AVL树。这就是**平衡因子**的概念



#### 平衡操作 - AVL旋转

> 在对AVL树添加或移除节点后，我们要计算节点的高度并验证树是否需要进行平衡

向AVL树插入节点时，可以执行 ==单旋转== 或 ==双旋转== 两种平衡操作，分别对应四种场景

- 左-左(LL)：向左的单旋转
  - 情景：节点的左侧子节点的高度大于右侧子节点的高度(差>=2); 并且左侧子节点是平衡或左侧稍高
- 右-右(RR)：向右的单旋转
  - 情景：节点的右侧子节点的高度大于左侧子节点的高度(差>=2); 并且右侧子节点是平衡或右侧稍高

